/// <reference types="Cypress" />
import Assignment from '../../support/pageObjects/Assignment'
const assignment = new Assignment()
const Constvarbl = require('../../fixtures/ConstVarbl.json')
describe('My First Test Suite', function() 
{
    it('Signin', ()=>{
        cy.Signin(Constvarbl.TeacherUserName,
            Constvarbl.TeacherPassword);
     }); 
it('Create Assignment',function() {
    cy.Curriculum()
    assignment.getCreateAssignment()
        .click({force: true})
    assignment.getName()
        .type(Constvarbl.name)
    assignment.getClass()
        .contains(Constvarbl.Class)
    assignment.getSubject()
        .contains(Constvarbl.Subject)
    assignment.getChapter()
        .contains(Constvarbl.Chapter)
    cy.wait(2000)    
    assignment.getSubjectTopics()
        .contains(Constvarbl.Topic)
            .click({force: true})
    cy.wait(2000)        
    assignment.getSubjectTopics()
        .contains(Constvarbl.SubTopic)
            .click({force: true})
    assignment.getMarks()
        .contains(Constvarbl.Marks)
    assignment.getDescription()
        .type(Constvarbl.Description)
    assignment.getCreateAssignPush()
        .click({force: true})
    assignment.getCheckbox()
        .check()
            .should('be.checked')
    assignment.getStartCalender()
        .click()
    assignment.getDateandTime()
        .contains(Constvarbl.pushDate)
            .click()
    assignment.getCalenderHour()
        .contains(Constvarbl.pushHour1)
            .click()
    assignment.getCalenderMinute()
        .contains(Constvarbl.pushMin1)
            .click()
    assignment.getEndCalender()
        .click()
    assignment.getDateandTime1()
        .contains(Constvarbl.pushDate)
            .click()
    assignment.getCalenderHour1()
        .contains(Constvarbl.pushHour2)
            .click()
    assignment.getCalenderMinute1()
        .contains(Constvarbl.pushMin2)
            .click()
    assignment.getCancel()
        .click()     
})
it('View Assignment',function() {
    assignment.getViewAssignment()
        .click({force: true})
    assignment.getClass()
        .contains(Constvarbl.Class)
    assignment.getSubject()
        .contains(Constvarbl.Subject)
    assignment.getChapter()
        .contains(Constvarbl.Chapter)
    assignment.getSelectDate()
        .contains(Constvarbl.CreatedDate)
    assignment.getCalender1()
        .click()
    assignment.getDate()
        .contains(Constvarbl.Date1).click()    
    assignment.getCalender2()
        .click()
    assignment.getDate()
        .contains(Constvarbl.Date2).click()
    assignment.getPushedButton()
        .click()
    assignment.getAssignmentPushedTable().each(($e1,index,$list)=>{
        const text = $e1.text()
        if(text.includes("Mathematics"))
        {
            $e1.click()
        }
    })
    assignment.getBack()
        .click()
    cy.Logout()
})
})